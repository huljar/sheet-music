\input musixtex
\input musixsty
\input musixps

% Setup
\generalmeter{\meterfrac44} % 4/4 meter
\generalsignature2 % 2 sharp signs
%\nobarnumbers

% Title
\fulltitle{Star Wars Medley}
\subtitle{Star Wars}
\title{Star Wars Medley}
\author{}
\shortauthor{Star Wars}
\othermention{}
\maketitle

% % % some bagpipe macros % % %
\makeatletter
\newdimen\@spacecache

\def\startembellishment{%
    \tinynotesize%
    \@spacecache=\noteskip%
    \noteskip=0.85\@l@mskip}
\def\endembellishment{%
    \normalnotesize%
    \noteskip=\the\@spacecache}

% a single grace note
\def\gr#1{%
    \startembellishment%
    \cccu{#1}%
    \hqsk%
    \endembellishment}

% common lifting grace notes (d, e, high g)
\def\grd{%
    \gr k}
\def\gre{%
    \gr l}
\def\grg{%
    \gr n}

% common tapping grace notes (a, low g, f, c)
\def\gra{%
    \gr h}
\def\grlg{%
    \gr g}
\def\grf{%
    \gr m}
\def\grc{%
    \gr j}

% Light D Strike
\def\lds{%
    \startembellishment%
    \ibbbu5n{-5}\qb5{nk}\tqu5j%
    \endembellishment}

% Heavy D Strike
\def\hds{%
    \startembellishment%
    \ibbbu5n{-5}\qb5{nk}\tqu5g%
    \endembellishment}

% D Throw (light/heavy)
\def\dth{%
    \startembellishment%
    \ibbbu5j2\qb5{gk}\tqu5j%
    \endembellishment}

% doubling
\def\dbl#1#2#3#4{%
    \startembellishment%
    \ibbbu5{#1}{#4}\qb5{#1#2}\tqu5{#3}%
    \endembellishment}

% common doublings
\def\dblc{%
    \dbl{n}{j}{k}{-4}}
\def\dbld{%
    \dbl{n}{k}{l}{-3}}
\def\dble{%
    \dbl{n}{l}{m}{-2}}

% half doubling
\def\hd#1#2#3{%
    \startembellishment%
    \ibbbu5{#1}{#3}\qb5{#1}\tqu5{#2}%
    \endembellishment}

% common half doublings
\def\hdha{%
    \hd on{-3}}
\def\hde{%
    \hd lm{3}}

\makeatother
% % % end bagpipe macros % % %

% Start serious business
\startpiece%
% bar 1
\NOTesp\hlp o\en
\notesp\ibl0h0\qb0h\grd\bltext0\qb0h\gre\tql0h\en
\bar
% bar 2
\NOTes\grg\hl h\dble\hl l\en
\bar
% bar 3
\notesp\dbld\ibl0k{-2}\qb0k\bltext0\qb0j\tql0i\en
\NOTes\hdha\hl o\en
\NOtes\hde\ql l\en
\bar
% bar 4
\notesp\dbld\ibl0k{-2}\qb0k\bltext0\qb0j\tql0i\en
\NOTes\hdha\hl o\en
\NOtes\hde\ql l\en
\bar
% bar 5
\notesp\dbld\ibl0k0\qb0k\bltext0\qb0j\tql0k\en
\NOTes\grg\hl i\en
\notes\ibl0h0\qb0h\grd\bltext0\qb0h\gre\tql0h\en
\bar
% bar 6
\NOTes\grg\hl h\dble\hl l\en
\bar
% bar 7
\notesp\dbld\ibl0k{-2}\qb0k\bltext0\qb0j\tql0i\en
\NOTes\hdha\hl o\en
\NOtes\hde\ql l\en
\bar
% bar 8
\notesp\dbld\ibl0k{-2}\qb0k\bltext0\qb0j\tql0i\en
\NOTes\hdha\hl o\en
\NOtes\hde\ql l\en
\bar
% bar 9
\notesp\dbld\ibl0k0\qb0k\bltext0\qb0j\tql0k\en
\NOTes\grg\hl i\en
\notesp\ibl0h0\qbp0h\bltext0\grd\tql0h\en
\bar
% bar 10
\Notesp\qlp i\en
\Notes\gra\cl i\ibl0n{-3}\qb0{nml}\tql0k\en
\bar
% bar 11
\notesp\grg\ibl0k1\qb0k\bltext0\qb0l\tql0m\ibl0j{-3}\qbp0l\loff{\bltext0}\tql0h\en
\NOtes\grg\ql i\en
\notesp\ibl0h0\qbp0h\bltext0\grd\tql0h\en
\bar
% bar 12
\NOtesp\qlp i\en
\Notes\gra\cl i\ibl0n{-3}\qb0{nml}\tql0k\en
\bar
% bar 13
\NOtes\ql o\en
\NOTes\hde\hl l\en
\notesp\ibl0h0\qbp0h\bltext0\grd\tql0h\en
\bar
% bar 14
\NOtesp\qlp i\en
\Notes\gra\cl i\ibl0n{-3}\qb0{nml}\tql0k\en
\bar
% bar 15
\notesp\grg\ibl0k1\qb0k\bltext0\qb0l\tql0m\ibl0j{-3}\qbp0l\loff{\bltext0}\tql0h\en
\NOtes\grg\ql i\en
\notesp\ibl0k0\qbp0k\bltext0\grlg\tql0k\en
\bar
% bar 16
\Notes\ibl0o{-2}\qb0{onm}\tql0l\ibl0k{-2}\qb0{kji}\tql0h\en
\bar
% bar 17
\NOTes\hl o\hl l\en
\bar
% bar 18
\NOtes\grg\ql i\grd\ql i\gre\ql i\en
\Notesp\ibl0g4\qbp0g\en
\notes\loff{\nbbl0}\tql0k\en
\bar
% bar 19
\NOtes\grg\ql i\en
\Notesp\ibl0g4\qbp0g\en
\notes\loff{\nbbl0}\tql0k\en
\NOTes\grg\hl i\en
\bar
% bar 20
\NOtes\ql m\grg\ql m\gre\ql m\en
\Notesp\ibl0n{-4}\qbp0n\en
\notes\loff{\nbbl0}\tql0k\en
\bar
% bar 21
\NOtes\ql i\en
\Notesp\ibl0g4\qbp0g\en
\notes\loff{\nbbl0}\tql0k\en
\NOTes\grg\hl i\en
\bar
% bar 22
\NOtes\ql o\en
\Notes\ibl0h0\qbp0h\en
\notes\grd\loff{\nbbl0}\tql0h\en
\NOtes\ql o\en
\Notes\ibl0n0\qbp0n\en
\notes\grf\loff{\nbbl0}\tql0n\en
\bar
% bar 23
\Notes\ibbl0m0\qb0m\tbbl0\qb0l\itieu0m\tql0m\en
\Notes\ttie0\cl m\cl i\en
\NOtes\dble\ql l\en
\Notesp\ibl0k0\qbp0k\en
\notes\grc\loff{\nbbl0}\tql0k\en
\bar
% bar 24
\Notes\ibbl0j0\qb0j\tbbl0\qb0i\itieu0j\tql0j\en
% scratchpad
\NOtes\ttie0\cl{jgigikikm}\en
\bar
\Uptext{Repeat bar 22+23}
\bar
% Wrap up serious business
\Endpiece%
\end
